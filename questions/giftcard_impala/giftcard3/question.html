<pl-question-panel>
<markdown>
Now, we would like to DRY out our code by using the `before(:each)` block.
Arrange the common lines of the previous tests into the `before` block with the
unique lines in their own `it` blocks. The verification criteria from the 
previous question is repeated here for your convenience.  
  
In this question, construct tests that verify:
* a withdrawal when there is enough cash returns success
* a withdrawal when there is enough cash changes the card balance
* a withdrawal when there is enough cash does not produce an error message  

For autograder feedback (and to recieve points to progress), make sure your tests are named as follows:
```ruby
'GiftCard withdrawing with sufficient balance returns a truthy value'
'GiftCard withdrawing with sufficient balance changes the balance'
'GiftCard withdrawing with sufficient balance does not result in error message'
```
--- 
</markdown>

</pl-question-panel>



<pl-file-editor
    file-name="giftcard_spec.rb"
    ace-mode="ace/mode/ruby"
>
describe GiftCard do
  describe 'creating' do
    it 'fails with negative balance' do
      expect { GiftCard.new(-1) }.to raise_error(ArgumentError)
    end
    it 'succeeds with positive balance' do
      gift_card = GiftCard.new(20)
      expect(gift_card.balance).to eq(20)
    end
  end
  describe 'withdrawing with sufficient balance' do
    # YOUR CODE HERE

  end
end
</pl-file-editor>

<pl-external-grader-results></pl-external-grader-results>